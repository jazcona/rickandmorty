import{o as T,q as w,v as S,w as B,x as y,y as I,m as p,z as U,A as Y,B as k,C as x,n as F,E as C,D as $,H as q,F as z,G,I as R,J as H,K as Z,L as O,M as J,g as m,N as D,O as K,P as Q,Q as V,R as W,S as X,T as j,U as ee,V as se,W as te,X as re,Y as ae,Z as ne,_ as ie,b as fe,f as ue,$ as ce,a0 as oe}from"./wEQNk92e.js";import{s as de,g as _e}from"./C_dvIEoE.js";class le{anchor;#s=new Map;#t=new Map;#e=new Map;#r=!0;constructor(s,r=!0){this.anchor=s,this.#r=r}#a=()=>{var s=T;if(this.#s.has(s)){var r=this.#s.get(s),e=this.#t.get(r);if(e)w(e);else{var a=this.#e.get(r);a&&(this.#t.set(r,a.effect),this.#e.delete(r),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),e=a.effect)}for(const[n,f]of this.#s){if(this.#s.delete(n),n===s)break;const i=this.#e.get(f);i&&(S(i.effect),this.#e.delete(f))}for(const[n,f]of this.#t){if(n===r)continue;const i=()=>{if(Array.from(this.#s.values()).includes(n)){var o=document.createDocumentFragment();Y(f,o),o.append(y()),this.#e.set(n,{effect:f,fragment:o})}else S(f);this.#t.delete(n)};this.#r||!e?B(f,i,!1):i()}}};#n=s=>{this.#s.delete(s);const r=Array.from(this.#s.values());for(const[e,a]of this.#e)r.includes(e)||(S(a.effect),this.#e.delete(e))};ensure(s,r){var e=T,a=k();if(r&&!this.#t.has(s)&&!this.#e.has(s))if(a){var n=document.createDocumentFragment(),f=y();n.append(f),this.#e.set(s,{effect:I(()=>r(f)),fragment:n})}else this.#t.set(s,I(()=>r(this.anchor)));if(this.#s.set(e,s),a){for(const[i,u]of this.#t)i===s?e.skipped_effects.delete(u):e.skipped_effects.add(u);for(const[i,u]of this.#e)i===s?e.skipped_effects.delete(u.effect):e.skipped_effects.add(u.effect);e.oncommit(this.#a),e.ondiscard(this.#n)}else p&&(this.anchor=U),this.#a()}}function me(t,s,r=!1){p&&F();var e=new le(t),a=r?C:0;function n(f,i){if(p){const o=$(t)===q;if(f===o){var u=z();G(u),e.anchor=u,R(!1),e.ensure(f,i),R(!0);return}}e.ensure(f,i)}x(()=>{var f=!1;s((i,u=!0)=>{f=!0,n(u,i)}),f||n(!1,null)},a)}let b=!1,E=Symbol();function ge(t,s,r){const e=r[s]??={store:null,source:J(void 0),unsubscribe:O};if(e.store!==t&&!(E in r))if(e.unsubscribe(),e.store=t??null,t==null)e.source.v=void 0,e.unsubscribe=O;else{var a=!0;e.unsubscribe=de(t,n=>{a?e.source.v=n:D(e.source,n)}),a=!1}return t&&E in r?_e(t):m(e.source)}function Se(){const t={};function s(){H(()=>{for(var r in t)t[r].unsubscribe();Z(t,E,{enumerable:!1,value:!0})})}return[t,s]}function he(t){var s=b;try{return b=!1,[t(),b]}finally{b=s}}function pe(t,s,r,e){var a=!se||(r&te)!==0,n=(r&re)!==0,f=(r&oe)!==0,i=e,u=!0,o=()=>(u&&(u=!1,i=f?fe(e):e),i),_;if(n){var M=ne in t||ie in t;_=K(t,s)?.set??(M&&s in t?c=>t[s]=c:void 0)}var l,P=!1;n?[l,P]=he(()=>t[s]):l=t[s],l===void 0&&e!==void 0&&(l=o(),_&&(a&&Q(),_(l)));var d;if(a?d=()=>{var c=t[s];return c===void 0?o():(u=!0,c)}:d=()=>{var c=t[s];return c!==void 0&&(i=void 0),c===void 0?i:c},a&&(r&V)===0)return d;if(_){var N=t.$$legacy;return(function(c,v){return arguments.length>0?((!a||!v||N||P)&&_(v?d():c),c):d()})}var g=!1,h=((r&ce)!==0?ue:ee)(()=>(g=!1,d()));n&&m(h);var L=X;return(function(c,v){if(arguments.length>0){const A=v?m(h):a&&n?W(c):c;return D(h,A),g=!0,i!==void 0&&(i=A),c}return ae&&g||(L.f&j)!==0?h.v:m(h)})}export{le as B,Se as a,me as i,pe as p,ge as s};
